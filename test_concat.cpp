//  String class test program
//
//  Name:  test_concat
//  Tests: concatenation operator +=
//
 
#include "string.hpp"
#include <cassert>
#include <iostream>


//===========================================================================
int main ()
{
    {
        //------------------------------------------------------
        // empty string
        String  left(" ");
        String  right(" ");


        // TEST
        String result = (left += right);


        // VERIFY
        assert(result == "  ");
        assert(left   == "  ");
        assert(right  == " ");
    }


    {
        //------------------------------------------------------
        // basic test
        String  left("a");
        String  right("b");


        // TEST
        String result = (left += right);


        // VERIFY
        assert(result == "ab");
        assert(left   == "ab");
        assert(right  == "b");
    }


    {
        //------------------------------------------------------
        // SETUP FIXTURE
        String  left("abcdefg");
        String  right("hijklmnop");


        // TEST
        String result = (left += right);


        // VERIFY
        assert(result == "abcdefghijklmnop");
        assert(left   == "abcdefghijklmnop");
        assert(right  == "hijklmnop");
    }


    {
        //------------------------------------------------------
        // SETUP FIXTURE
        String  left("2344859370235791945902954909890298593029194589028590928395");
        String  right("98908917893478018970450789781728957");


        // TEST
        String result = (left += right);


        // VERIFY
        assert(result == "234485937023579194590295490989029859302919458902859092839598908917893478018970450789781728957");
        assert(left   == "234485937023579194590295490989029859302919458902859092839598908917893478018970450789781728957");
        assert(right  == "98908917893478018970450789781728957");
    }


    {
        //------------------------------------------------------
        // SETUP FIXTURE
        String  left("900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");
        String  right("987654321");


        // TEST
        String result = (left += right);


        // VERIFY
        assert(result == "900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000987654321");
        assert(left   == "900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000987654321");
        assert(right  == "987654321");
    }


    {
        //------------------------------------------------------
        // testing near bounds
        String  left("222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222");
        String  right("11111");


        // TEST
        String result = (left += right);


        // VERIFY
        assert(result == "22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222211111");
        assert(left   == "22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222211111");
        assert(right  == "11111");
    }
   


    // ADD ADDITIONAL TESTS AS NECESSARY
   
    std::cout << "Done testing concatenation: += (+ is tested through +=)." << std::endl;
    return 0;
}
